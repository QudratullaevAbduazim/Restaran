<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Restaurant — Menu</title>

    <!-- Google Fonts (optional, remove if offline) -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

    <style>
        :root{
            --bg:#faf8f6;
            --card:#ffffff;
            --accent:#c0392b;
            --muted:#7b7b7b;
            --glass: rgba(255,255,255,0.6);
            --radius:12px;
            --max-width:1100px;
            --shadow: 0 6px 18px rgba(20,20,20,0.08);
        }

        *{box-sizing:border-box}
        html,body{height:100%}
        body{
            margin:0;
            font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            background: linear-gradient(180deg, #fff 0%, #fbf7f5 100%);
            color:#222;
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
            line-height:1.45;
        }

        /* Header / Hero */
        .site-header{
            background: linear-gradient(120deg, rgba(192,57,43,0.95), rgba(236,112,99,0.95));
            color:white;
            padding:28px 20px;
            box-shadow: 0 6px 18px rgba(192,57,43,0.12);
        }
        .site-header .wrap{
            max-width:var(--max-width);
            margin:0 auto;
            display:flex;
            align-items:center;
            justify-content:space-between;
            gap:18px;
        }
        .brand{
            display:flex;
            align-items:center;
            gap:14px;
        }
        .brand .logo{
            width:56px;
            height:56px;
            border-radius:10px;
            background:rgba(255,255,255,0.12);
            display:flex;
            align-items:center;
            justify-content:center;
            font-family:"Playfair Display", serif;
            font-size:20px;
            box-shadow: inset 0 -6px 18px rgba(0,0,0,0.06);
        }
        .brand h1{
            margin:0;
            font-family:"Playfair Display", serif;
            font-weight:600;
            font-size:20px;
            letter-spacing:0.2px;
        }
        .brand p{margin:0;font-size:13px;opacity:0.95}

        .header-actions{
            display:flex;
            gap:12px;
            align-items:center;
        }
        .btn{
            display:inline-block;
            padding:10px 14px;
            border-radius:8px;
            text-decoration:none;
            font-weight:600;
            font-size:14px;
            transition:transform .12s ease, box-shadow .12s ease;
        }
        .btn-ghost{
            background:transparent;
            border:1px solid rgba(255,255,255,0.18);
            color:white;
        }
        .btn-primary{
            background:rgba(255,255,255,0.95);
            color:var(--accent);
            box-shadow: 0 6px 18px rgba(197,57,48,0.12);
        }
        .btn:active{transform:translateY(1px)}
        .btn:hover{transform:translateY(-2px)}

        /* Main */
        .wrap{
            max-width:var(--max-width);
            margin:28px auto;
            padding:0 20px;
        }

        .hero{
            background: linear-gradient(90deg, rgba(255,255,255,0.6), rgba(255,255,255,0.4));
            margin-top:-18px;
            padding:28px;
            border-radius:14px;
            box-shadow:var(--shadow);
            display:flex;
            align-items:center;
            gap:24px;
        }
        .hero .left{
            flex:1;
        }
        .hero h2{
            margin:0 0 8px 0;
            font-family:"Playfair Display", serif;
            font-size:32px;
            color:#2b2b2b;
        }
        .hero p{margin:0;color:var(--muted)}

        /* Grid */
        .grid{
            display:grid;
            grid-template-columns: repeat(3, 1fr);
            gap:20px;
            margin-top:20px;
        }

        @media (max-width:980px){
            .grid{grid-template-columns: repeat(2, 1fr)}
            .hero h2{font-size:28px}
        }
        @media (max-width:640px){
            .grid{grid-template-columns: 1fr}
            .site-header .wrap{flex-direction:column;align-items:flex-start;gap:12px}
            .hero{flex-direction:column;align-items:flex-start}
            .brand p{display:none}
        }

        .card{
            background:var(--card);
            border-radius:var(--radius);
            overflow:hidden;
            box-shadow:var(--shadow);
            display:flex;
            flex-direction:column;
            transition:transform .14s ease, box-shadow .14s ease;
            position:relative;
            min-height:220px;
        }
        .card:hover{transform:translateY(-6px); box-shadow:0 14px 36px rgba(20,20,20,0.08)}

        .media{
            height:160px;
            background:linear-gradient(180deg, #f6f3f2, #efe9e7);
            display:flex;
            align-items:center;
            justify-content:center;
            overflow:hidden;
        }
        .media img{
            width:100%;
            height:100%;
            object-fit:cover;
            display:block;
        }
        .content{
            padding:16px;
            display:flex;
            flex-direction:column;
            gap:10px;
            flex:1;
        }
        .content h3{
            margin:0;
            font-size:18px;
            color:#222;
        }
        .desc{
            margin:0;
            color:var(--muted);
            font-size:14px;
            flex:1;
        }

        .meta{
            display:flex;
            align-items:center;
            justify-content:space-between;
            gap:10px;
        }
        .price{
            font-weight:700;
            color:var(--accent);
            font-size:16px;
            background:linear-gradient(90deg, rgba(192,57,43,0.07), rgba(192,57,43,0.03));
            padding:8px 12px;
            border-radius:999px;
        }

        .actions{
            display:flex;
            gap:8px;
            align-items:center;
        }
        .action-btn{
            padding:8px 10px;
            border-radius:8px;
            text-decoration:none;
            font-size:13px;
            border:1px solid transparent;
            transition:transform .12s ease, opacity .12s ease;
        }
        .action-btn.update{
            background:transparent;
            border:1px solid #2f80ed22;
            color:#2f80ed;
        }
        .action-btn.delete{
            background:var(--accent);
            color:white;
            box-shadow: 0 6px 12px rgba(192,57,43,0.12);
        }
        .action-btn:hover{transform:translateY(-2px)}

        /* Price badge top-left on media */
        .price-badge{
            position:absolute;
            top:12px;
            left:12px;
            background:linear-gradient(90deg, rgba(255,255,255,0.9), rgba(255,255,255,0.85));
            padding:8px 10px;
            border-radius:10px;
            font-weight:700;
            color:#b84743;
            box-shadow:0 6px 18px rgba(0,0,0,0.06);
            font-size:14px;
        }

        /* Empty state */
        .empty{
            padding:40px;
            text-align:center;
            border-radius:12px;
            background:linear-gradient(180deg,#fff,#fbf7f5);
            box-shadow:var(--shadow);
            color:var(--muted);
            font-size:16px;
        }

        footer{
            max-width:var(--max-width);
            margin:36px auto;
            padding:20px;
            color:var(--muted);
            font-size:13px;
            text-align:center;
        }
    </style>
</head>
<body>
    <header class="site-header" role="banner" aria-label="Site header">
        <div class="wrap">
            <div class="brand">
                <div class="logo" aria-hidden="true">R</div>
                <div>
                    <h1>Rustaq Restaurant</h1>
                    <p>Handcrafted flavors • Fresh ingredients</p>
                </div>
            </div>

            <div class="header-actions" role="navigation" aria-label="Top actions">
                <!-- Create New Food Button -->
                <a class="btn btn-primary" href="{% url 'myapp:create_food' %}" aria-label="Create new food">Yangi taom qo'shish</a>
                <a class="btn btn-ghost" href="#" aria-label="View reservations">Rezervatsiyalar</a>
            </div>
        </div>
    </header>

    <main>
        <section class="wrap hero" aria-labelledby="menu-title">
            <div class="left">
                <h2 id="menu-title">Bizning menyu — eng yaxshi taomlar</h2>
                <p>Mahalliy va xalqaro taomlar, har kuni yangi lazzatlar. Quyidagi menyudan tanlang yoki yangi taom qo'shing.</p>
            </div>
            <div class="right" style="text-align:right;">
                <p style="margin:0;font-weight:600;color:#fff;opacity:0.95">Ochilgan: 10:00 — 22:00</p>
                <p style="margin:6px 0 0 0;font-size:13px;color:rgba(255,255,255,0.9)">Yetkazib berish va stol rezervatsiyasi mavjud</p>
            </div>
        </section>

        <div class="wrap" aria-live="polite">
            {% if foods %}
                <div class="grid" role="list">
                    {% for i in foods %}
                        <article class="card" role="listitem" aria-labelledby="food-{{ i.pk }}-title">
                            <div class="media" aria-hidden="true">
                                {% if i.image %}
                                    <img src="{{ i.image.url }}" alt="{{ i.name }}">
                                {% else %}
                                    <!-- simple SVG placeholder -->
                                    <svg width="100%" height="100%" viewBox="0 0 400 200" preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="{{ i.name }} rasm mavjud emas">
                                        <rect width="400" height="200" fill="#f3e9e6"/>
                                        <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#d1b5b2" font-size="20" font-family="Inter, sans-serif">Rasm mavjud emas</text>
                                    </svg>
                                {% endif %}
                            </div>

                            <div class="content">
                                <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
                                    <h3 id="food-{{ i.pk }}-title">{{ i.name }}</h3>
                                    <div class="price" aria-hidden="true">{{ i.price }} so'm</div>
                                </div>

                                <p class="desc">{{ i.desc|truncatechars:140 }}</p>

                                <div class="meta">
                                    <div style="display:flex; align-items:center; gap:10px;">
                                        <!-- optional small tag or category -->
                                        <span style="font-size:13px;color:var(--muted)">Chef special</span>
                                    </div>

                                    <div class="actions">
                                        <a class="action-btn update" href="{% url 'myapp:update_food' i.pk %}" aria-label="Update {{ i.name }}">Yangilash</a>
                                        <a class="action-btn delete" href="{% url 'myapp:delete_food' i.pk %}" aria-label="Delete {{ i.name }}">O'chirish</a>
                                    </div>
                                </div>
                            </div>
                        </article>
                    {% endfor %}
                </div>
            {% else %}
                <div class="wrap">
                    <div class="empty">
                        <strong>Menyuda taomlar yo'q.</strong>
                        <div style="margin-top:8px;">Yangi taom qo'shish uchun <a href="{% url 'myapp:create_food' %}">bu yerni</a> bosing.</div>
                    </div>
                </div>
            {% endif %}
        </div>

        <footer>
            &copy; {{ now.year }} Rustaq Restaurant — Barcha huquqlar himoyalangan.
        </footer>
    </main>
</body>
</html>